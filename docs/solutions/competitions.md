# 比赛
## NOI Online 2022

感觉 NOI Online 像在变水，提高组的题也就两道蓝题加一道紫题，数据结构只需要用到树状数组和并查集，没有任何高级的技巧。比赛情况是根据洛谷民间数据，只 A 掉了前两题，最后一题写的是暴力分。

### T1 丹钓战

[题目链接](https://www.luogu.com.cn/problem/P8251)

大意：有 n $(1\leq n\leq 10^5)$ 个二元组 $(a_i,b_i)$。现在给出 q $(1\leq q\leq 10^5)$ 个询问，将从 l 到 r 的所有二元组顺次插入单调栈中，满足 b 值由栈底到栈顶下降，相邻两个元素的 a 值不相等。求有多少二元组在栈中单独出现过。

赛时思路：考虑模拟，对于每一个节点记录不冲突的前驱 $fa$。求多少二元组在栈中出现过，就等于求在 l 到 r 的范围内，有多少数的大小小于 l。具体用线段树或者树状数组维护即可。时间复杂度 $O(n \log{n})$（考虑 n，q 在同一级别）。

??? "赛时代码/正解"
    ```cpp
	--8<-- "code/original/noi-online-2022-t1.cpp"
	```

### T2 讨论

[题目链接](https://www.luogu.com.cn/problem/P8252)

大意：给定 n $(1\leq n\leq 10^6)$ 个集合，求是否存在交叉关系。

赛时思路：使用并查集，按集合的大小从小到大进行添加，并维护每个连通块的大小。可以证明，每个集合的子集总是在它之前被添加。如果某一次添加发现连通块的大小大于该点的度数，则可以判定存在交叉关系。时间复杂度 $O(n\operatorname{\alpha}(n))$

??? "赛时代码/正解"
    ```cpp
	--8<-- "code/original/noi-online-2022-t2.cpp"
	```

### T3 如何正确地排序

[题目链接](https://www.luogu.com.cn/problem/P8253)

大意：给定一个 $m\times n$ 的数组 $a_{i,j}$，其中 $m\leq4,n\leq 2\times 10^5$，求 $\sum_{i=1}^{n}{\sum_{j-1}^{n}{\min_{k=1}^{m}{(a_{k,i}+a_{k,j})}+\max_{k=1}^{m}{(a_{k,i}+a_{k,j})}}}$ 的值。

赛时思路：暴力得部分分。

??? "赛时代码"
    ```cpp
	--8<-- "code/original/noi-online-2022-t3.cpp"
	```